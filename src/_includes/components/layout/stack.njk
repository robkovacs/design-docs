{%- macro render(options) -%}
    {% set classes %}
        {% if options.classes %}
            {% if options.classes == (options.classes | string) %}
                {{ options.classes }}
            {% else %}
                {{ options.classes | join(' ') }}
            {% endif %}
        {% endif %}
    {% endset %}

    <div
        class="stack {{ 'stack--gap-' + options.gap if options.gap }} {{ classes }}"
        {% for key, value in options.attributes %}
            {{ key }}="{{ value | safe }}"
        {% endfor %}
    >
        {{ caller() | safe }}
    </div>
{%- endmacro -%}