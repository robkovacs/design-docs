.checkbox {
    display: flex;
    gap: var(--size-xs);
}

.checkbox__control {
    appearance: none;
    background-color: var(--color-white);
    margin: var(--size-4xs);
    flex: 0 0 var(--size-lg);
    height: var(--size-lg);
    border: var(--size-5xs) solid var(--color-gray-500);
    border-radius: var(--size-3xs);
    position: relative;
}

.checkbox__control::before {
    background-color: var(--color-white);
    mask-repeat: no-repeat;
    mask-position: center;
    mask-size: var(--size-md);
    display: none;
    content: "";
    width: var(--size-lg);
    height: var(--size-lg);
}

.checkbox__control:checked,
.checkbox__control:indeterminate {
    background-color: var(--color-blue-600);
}

.checkbox__control:checked::before {
    display: block;
    position: absolute;
    mask-image: url("../../assets/img/system-icons/check.svg");
    left: calc(-1 * var(--size-5xs));
    top: calc(-1 * var(--size-5xs));
}

.checkbox__control:indeterminate::before {
    mask-image: url("../../assets/img/system-icons/minus.svg");
}

@media (hover: hover) {
    .checkbox:hover .checkbox__control {
        background-color: var(--color-blue-100);
        border-color: var(--color-gray-600);
    }

    .checkbox:hover .checkbox__control:checked {
        background-color: var(--color-blue-700);
    }
}

.checkbox:active .checkbox__control {
    background-color: var(--color-blue-200);
    border-color: var(--color-gray-600);
}

.checkbox:active .checkbox__control:checked {
    background-color: var(--color-blue-800);
}

.checkbox .checkbox__control:invalid {
    border-color: var(--color-red-500);
}
@media (hover: hover) {
    .checkbox:hover .checkbox__control:invalid {
        border-color: var(--color-red-600);
    }
}

.checkbox:active .checkbox__control:invalid {
    border-color: var(--color-red-700);
}

.checkbox--framed {
    width: auto;
    padding: var(--size-md);
    border: var(--size-5xs) solid var(--color-gray-500);
    border-radius: var(--size-3xs);
}

@media (hover: hover) {
    .checkbox--framed:hover {
        background-color: var(--color-gray-100);
        border-color: var(--color-gray-600);
    }
}

.checkbox--framed:active {
    background-color: var(--color-gray-200);
    border-color: var(--color-gray-700);
}

.checkbox--framed:has(:checked) {
    background-color: var(--color-blue-100);
}

@media (hover: hover) {
    .checkbox--framed:hover:has(:checked) {
        background-color: var(--color-blue-200);
    }
}

.checkbox--framed:active:has(:checked) {
    background-color: var(--color-blue-300);
}

.checkbox--framed:has(:focus-visible) {
    outline-offset: var(--size-4xs);
    outline: var(--color-blue-500) solid var(--size-4xs);
    box-shadow: 0 0 0 var(--size-4xs) var(--color-white);
}

.checkbox--framed .checkbox__control:focus-visible {
    outline: none;
    box-shadow: none;
}

.checkbox--framed:has(:invalid) {
    border-color: var(--color-red-500);
}

@media (hover: hover) {
    .checkbox--framed:hover:has(:invalid) {
        border-color: var(--color-red-600);
    }
}

.checkbox--framed:active:has(:invalid) {
    border-color: var(--color-red-700);
}

.checkbox--framed .checkbox__control,
.checkbox--framed:active .checkbox__control,
.checkbox--framed .checkbox__control:invalid,
.checkbox--framed:active .checkbox__control:invalid {
    border-color: var(--color-gray-500);
    background-color: var(--color-white);
}

@media (hover: hover) {
    .checkbox--framed:hover .checkbox__control,
    .checkbox--framed:hover .checkbox__control:invalid {
        border-color: var(--color-gray-500);
        background-color: var(--color-white);
    }
}

.checkbox--framed .checkbox__control:checked,
.checkbox--framed:active .checkbox__control:checked {
    background-color: var(--color-blue-600);
}

@media (hover: hover) {
    .checkbox--framed:hover .checkbox__control:checked {
        background-color: var(--color-blue-600);
    }
}

.checkbox__content {
    display: flex;
    flex-direction: column;
    gap: var(--size-2xs);
}

.checkbox__label,
.checkbox__description {
    display: block;
}

.checkbox__description {
    color: var(--color-gray-600);
    font-size: var(--size-sm);
    line-height: var(--size-lg);
}

.checkbox--framed:active:has(:checked) .checkbox__description {
    color: var(--color-gray-900);
}

.checkbox:has(
        .checkbox__control:disabled,
        .checkbox__control[aria-disabled="true"]
    ) {
    cursor: not-allowed;
    color: var(--color-gray-500);
}

.checkbox__control:disabled,
.checkbox__control[aria-disabled="true"],
.checkbox__control:active[aria-disabled="true"] {
    background-color: var(--color-gray-200);
    border-color: var(--color-gray-400);
}

.checkbox__control:checked:disabled,
.checkbox__control:checked[aria-disabled="true"],
.checkbox__control:checked:active[aria-disabled="true"] {
    background-color: var(--color-gray-400);
}

@media (hover: hover) {
    .checkbox__control:hover[aria-disabled="true"] {
        background-color: var(--color-gray-200);
        border-color: var(--color-gray-400);
    }

    .checkbox__control:checked:hover[aria-disabled="true"] {
        background-color: var(--color-gray-400);
    }
}

.checkbox__control:checked:disabled::before,
.checkbox__control:checked[aria-disabled="true"]::before {
    background-color: var(--color-gray-200);
}

@media (hover: hover) {
    .checkbox--framed:has(:disabled,
    [aria-disabled="true"]):hover {
        background-color: var(--color-white);
        border-color: var(--color-gray-500);
    }
}

.checkbox--framed:has(:disabled,
[aria-disabled="true"]):active {
    background-color: var(--color-white);
    border-color: var(--color-gray-500);
    cursor: not-allowed;
}

.checkbox--framed:has(:checked:disabled,
:checked[aria-disabled="true"]),
.checkbox--framed:has(:checked:disabled,
:checked[aria-disabled="true"]):hover,
.checkbox--framed:has(:checked:disabled,
:checked[aria-disabled="true"]):active {
    background-color: var(--color-gray-200);
    border-color: var(--color-gray-400);
    cursor: not-allowed;
}

.checkbox--framed:has(:checked:disabled, :checked[aria-disabled="true"]) .checkbox__description {
    color: var(--color-gray-500);
}

@media (hover: hover) {
    .checkbox--framed:hover:has(:checked) {
        background-color: var(--color-blue-200);
    }
}

.checkbox--framed:active:has(:checked) {
    background-color: var(--color-blue-300);
}

.checkbox--framed:has(:focus-visible) {
    outline-offset: var(--size-4xs);
    outline: var(--color-blue-500) solid var(--size-4xs);
    box-shadow: 0 0 0 var(--size-4xs) var(--color-white);
}

.checkbox--framed .checkbox__control:focus-visible {
    outline: none;
    box-shadow: none;
}

.checkbox--framed:has(:invalid) {
    border-color: var(--color-red-500);
}

@media (hover: hover) {
    .checkbox--framed:hover:has(:invalid) {
        border-color: var(--color-red-600);
    }
}

.checkbox--framed:active:has(:invalid) {
    border-color: var(--color-red-700);
}